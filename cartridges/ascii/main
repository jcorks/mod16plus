@:Mod16 = import(module:'Mod16Plus.Core');
@:Cart = Mod16.Cartridge;
@:Sprite = Cart.Sprite;

// Sets ascii tiles 
// that can be used for displaying text



@offset = 0;



Cart.Tile.set(
    index: 'a'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'b'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 4, 0, 0, 0, 0,
        4, 4, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'c'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);    

Cart.Tile.set(
    index: 'd'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 0, 4, 0, 0, 0,
        4, 0, 0, 4, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'e'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0
    ]
);


Cart.Tile.set(
    index: 'f'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 4, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'g'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 4, 4, 0, 0, 0,
        0, 4, 4, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'h'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 4, 0, 0, 0, 0,
        4, 4, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0
    ]
);


Cart.Tile.set(
    index: 'i'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'j'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);    

Cart.Tile.set(
    index: 'k'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 4, 0, 0, 0, 0,
        4, 4, 4, 0, 0, 0, 0, 0,
        4, 0, 0, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'l'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'm'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'n'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 4, 0, 0, 0, 0,
        4, 4, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'o'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'p'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 4, 0, 0, 0, 0,
        4, 4, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'q'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 4, 4, 0, 0, 0,
        0, 4, 4, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0
    ]
);    

Cart.Tile.set(
    index: 'r'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 4, 0, 0, 0, 0,
        4, 4, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 's'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 't'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'u'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 4, 4, 0, 0, 0,
        0, 4, 4, 0, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'v'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);


Cart.Tile.set(
    index: 'w'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: 'x'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0
    ]
);    

Cart.Tile.set(
    index: 'y'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 4, 4, 0, 0, 0,
        0, 4, 4, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0
    ]
);    

Cart.Tile.set(
    index: 'z'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '0'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '1'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 4, 0, 0, 0, 0, 0,
        4, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '2'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0
    ]
);    

Cart.Tile.set(
    index: '3'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);


Cart.Tile.set(
    index: '4'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0
    ]
);


Cart.Tile.set(
    index: '5'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '6'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '7'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0
    ]
);    

Cart.Tile.set(
    index: '8'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);


Cart.Tile.set(
    index: '9'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '.'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);                

Cart.Tile.set(
    index: ','->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '"'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '\''->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '?'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '!'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '@'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 4, 4, 0, 0, 0,
        4, 0, 4, 4, 4, 0, 0, 0,
        4, 4, 0, 4, 4, 0, 0, 0,
        4, 0, 4, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '_'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '*'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '#'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '$'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 4, 0, 0, 0,
        4, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 4, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 4, 0, 0, 0,
        4, 4, 4, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '%'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 0, 0, 0, 0, 0, 0,
        4, 4, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 4, 4, 0, 0, 0,
        4, 0, 0, 4, 4, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '&'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 0, 0, 0, 0, 0,
        4, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        4, 0, 0, 4, 0, 0, 0, 0,
        0, 4, 4, 0, 4, 0, 0, 0
    ]
);                

Cart.Tile.set(
    index: '('->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: ')'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);                

Cart.Tile.set(
    index: '+'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '-'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '/'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: ':'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: ';'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '<'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 4, 0, 0, 0,
        0, 4, 4, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 4, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '='->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 4, 4, 4, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);
Cart.Tile.set(
    index: '>'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 4, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0,
        4, 4, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '['->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '\\'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        4, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: ']'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '^'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 4, 0, 0, 0, 0,
        4, 0, 0, 0, 4, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '`'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);                

Cart.Tile.set(
    index: '{'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 4, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '|'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '}'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 0, 4, 0, 0, 0, 0, 0,
        0, 4, 4, 0, 0, 0, 0, 0
    ]
);

Cart.Tile.set(
    index: '~'->charCodeAt(index:0)+offset,
    data: [
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 4, 0, 0, 0, 0, 0, 0,
        4, 0, 4, 0, 4, 0, 0, 0,
        0, 0, 0, 4, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
    ]
);





@count = 0;
@paletteCount = 0;
@free = [];

@countPalettes = 0;
@freePalettes = [];

@:GLYPH_HEIGHT = 8;
@:GLYPH_WIDTH = 6;


return {
    create::(string, x, y, color, layer) {
        if (layer == empty) layer = 0;
        @refs = {
            sprites : [],
            palettes : [
                if (freePalettes->keycount) 
                        freePalettes->pop
                  else ::<= {
                        paletteCount += 1;
                        return paletteCount - 1;
                  } 
            ]
        };
        
        Cart.Palette.set(
            index:refs.palettes[0],
            colors: [
                color,
                color,
                color,
                color,
                color
            ]
        );
        
        
        @chX = 0;
        @chY = 0;
                
        [0, string->length]->for(do:::(i) {
            @spr = if (free->keycount) free->pop else ::<= {
                count += 1;
                return count - 1;
            };
            Sprite.bind(index:spr);
            Sprite. = {
                tile: string->charCodeAt(index:i),
                show: true,
                x: chX * GLYPH_WIDTH  + x,
                y: chY * GLYPH_HEIGHT + y,
                palette:refs.palettes[0],
                layer:layer
            };
            chX += 1;
            refs.sprites->push(value:spr);
        });
        return refs;
    },
    
    recolor ::(refs, color, from, to) {
        @p = if (freePalettes->keycount) 
            freePalettes->pop
        else ::<= {
            paletteCount += 1;
            return paletteCount - 1;
        };

        Cart.Palette.set(
            index:refs.p,
            colors: [
                color,
                color,
                color,
                color,
                color
            ]
        );

        [from, to]->for(do:::(i) {
            Sprite.bind(index:refs.sprites[i]);
            Sprite.palette = p;
        });
    
         
        refs.palettes->push(value:p);
        
    },
    
    
    destroy::(refs) {
        refs.sprites->foreach(do:::(i, spr) {
            Sprite.bind(index:spr);
            Sprite.show = false;
        });
        
        refs.sprites->foreach(do:::(i, v) {
            free->push(value:v);
        });

        refs.palettes->foreach(do:::(i, v) {
            freePalettes->push(value:v);
        });
    }
};
